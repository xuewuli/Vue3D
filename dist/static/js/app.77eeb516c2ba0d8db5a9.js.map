{"version":3,"sources":["webpack:///./src/component/model3d/util.js","webpack:///src/component/model3d/model-mixin.vue","webpack:///./src/component/model3d/model-mixin.vue?3189","webpack:///src/component/model3d/model-gltf.vue","webpack:///./src/component/model3d/model-mixin.vue","webpack:///./src/component/model3d/model-gltf.vue","webpack:///src/App.vue","webpack:///./src/App.vue?49d7","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["box","Box3","suportWebGL","canvas","document","createElement","window","WebGLRenderingContext","getContext","e","DEFAULT_GL_OPTIONS","antialias","alpha","model_mixin","props","src","type","String","width","Number","height","position","Object","default","x","y","z","rotation","scale","lights","Array","cameraPosition","cameraRotation","cameraUp","cameraLookAt","backgroundColor","backgroundAlpha","controlsOptions","crossOrigin","glOptions","data","size","this","object","raycaster","three_module","mouse","camera","scene","wrapper","renderer","controls","allLights","clock","performance","Date","reqId","computed","hasListener","events","_events","result","forEach","name","length","mounted","undefined","$el","offsetWidth","offsetHeight","options","assign_default","$refs","shadowMap","enabled","OrbitControls","add","load","update","addEventListener","onMouseDown","onMouseMove","onMouseUp","onClick","onResize","animate","beforeDestroy","cancelAnimationFrame","dispose","removeEventListener","watch","deep","handler","val","set","updateLights","updateCamera","updateRenderer","updateControls","methods","_this","$nextTick","event","intersected","pick","clientX","clientY","$emit","xPos","yPos","rect","getBoundingClientRect","left","top","setFromCamera","intersects","intersectObject","updateModel","setSize","setPixelRatio","devicePixelRatio","setClearColor","getHex","setClearAlpha","aspect","updateProjectionMatrix","up","lookAt","distance","setFromObject","getSize","Vector3","_scene","_this2","remove","apply","toConsumableArray_default","item","toLowerCase","light","color","intensity","_color","_intensity","decay","copy","_color2","_intensity2","target","groundColor","skyColor","_intensity3","push","_this3","loader","getObject","arguments","process","addObject","xhr","err","center","getCenter","negate","requestAnimationFrame","render","model3d_model_mixin","_h","$createElement","_c","_self","staticStyle","margin","border","padding","ref","_t","_v","attrs","href","staticRenderFns","model_gltf","mixins","__webpack_require__","normalizeComponent","GLTFLoader","setCrossOrigin","model3d_model_gltf","model_gltf_normalizeComponent","App","components","ModelGltf","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","ssrContext","Vue","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.77eeb516c2ba0d8db5a9.js","sourcesContent":["import {\n  Box3, Vector3,\n} from 'three';\n\nconst box = new Box3();\n\nfunction getSize(object) {\n  box.setFromObject(object);\n\n  return box.getSize(new Vector3());\n}\n\nfunction getCenter(object) {\n  box.setFromObject(object);\n\n  return box.getCenter(new Vector3());\n}\n\nexport { getSize, getCenter };\n\n\n\n// WEBPACK FOOTER //\n// ./src/component/model3d/util.js","<template>\n  <div style=\"width: 100%; height: 100%; margin: 0; border: 0; padding: 0;\">\n    <canvas v-if=\"suportWebGL\" ref=\"canvas\" style=\"width: 100%; height: 100%;\"></canvas>\n    <div v-else>\n      <slot>\n        Your browser does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">WebGL</a>.<br/>'\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport {\n  Object3D,\n  Vector2,\n  Vector3,\n  Color,\n  Scene,\n  Raycaster,\n  WebGLRenderer,\n  PerspectiveCamera,\n  AmbientLight,\n  PointLight,\n  HemisphereLight,\n  DirectionalLight,\n} from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport { getSize, getCenter } from './util';\n\nconst suportWebGL = (() => {\n  try {\n    const canvas = document.createElement('canvas');\n    return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n  } catch (e) {\n    return false;\n  }\n})();\n\nconst DEFAULT_GL_OPTIONS = {\n  antialias: true,\n  alpha: true,\n};\n\nexport default {\n  props: {\n    src: {\n      type: String,\n    },\n    width: {\n      type: Number,\n    },\n    height: {\n      type: Number,\n    },\n    position: {\n      type: Object,\n      default() {\n        return { x: 0, y: 0, z: 0 };\n      },\n    },\n    rotation: {\n      type: Object,\n      default() {\n        return { x: 0, y: 0, z: 0 };\n      },\n    },\n    scale: {\n      type: Object,\n      default() {\n        return { x: 1, y: 1, z: 1 };\n      },\n    },\n    lights: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n    cameraPosition: {\n      type: Object,\n      default() {\n        return { x: 0, y: 0, z: 0 };\n      },\n    },\n    cameraRotation: {\n      type: Object,\n      default() {\n        return { x: 0, y: 0, z: 0 };\n      },\n    },\n    cameraUp: {\n      type: Object,\n    },\n    cameraLookAt: {\n      type: Object,\n    },\n    backgroundColor: {\n      default: 0xffffff,\n    },\n    backgroundAlpha: {\n      type: Number,\n      default: 1,\n    },\n    controlsOptions: {\n      type: Object,\n    },\n    crossOrigin: {\n      default: 'anonymous',\n    },\n    glOptions: {\n      type: Object,\n    },\n  },\n  data() {\n    return {\n      suportWebGL,\n      size: {\n        width: this.width,\n        height: this.height,\n      },\n      object: null,\n      raycaster: new Raycaster(),\n      mouse: new Vector2(),\n      camera: new PerspectiveCamera(45, 1, 0.01, 100000),\n      scene: new Scene(),\n      wrapper: new Object3D(),\n      renderer: null,\n      controls: null,\n      allLights: [],\n      clock: typeof performance === 'undefined' ? Date : performance,\n      reqId: null, // requestAnimationFrame id\n    };\n  },\n  computed: {\n    hasListener() {\n      // eslint-disable-next-line\n      const events = this._events;\n      const result = {};\n\n      ['on-mousemove', 'on-mouseup', 'on-mousedown', 'on-click'].forEach((name) => {\n        result[name] = !!events[name] && events[name].length > 0;\n      });\n\n      return result;\n    },\n  },\n  mounted() {\n    if (this.width === undefined || this.height === undefined) {\n      this.size = {\n        width: this.$el.offsetWidth,\n        height: this.$el.offsetHeight,\n      };\n    }\n\n    const options = Object.assign({}, DEFAULT_GL_OPTIONS, this.glOptions, {\n      canvas: this.$refs.canvas,\n    });\n\n    this.renderer = new WebGLRenderer(options);\n    this.renderer.shadowMap.enabled = true;\n\n    this.controls = new OrbitControls(this.camera, this.$el);\n    this.controls.type = 'orbit';\n\n    this.scene.add(this.wrapper);\n\n    this.load();\n    this.update();\n\n    this.$el.addEventListener('mousedown', this.onMouseDown, false);\n    this.$el.addEventListener('mousemove', this.onMouseMove, false);\n    this.$el.addEventListener('mouseup', this.onMouseUp, false);\n    this.$el.addEventListener('click', this.onClick, false);\n\n    window.addEventListener('resize', this.onResize, false);\n\n    this.animate();\n  },\n  beforeDestroy() {\n    cancelAnimationFrame(this.reqId);\n\n    this.scene.dispose();\n    this.renderer.dispose();\n\n    if (this.controls) {\n      this.controls.dispose();\n    }\n\n    this.$el.removeEventListener('mousedown', this.onMouseDown, false);\n    this.$el.removeEventListener('mousemove', this.onMouseMove, false);\n    this.$el.removeEventListener('mouseup', this.onMouseUp, false);\n    this.$el.removeEventListener('click', this.onClick, false);\n\n    window.removeEventListener('resize', this.onResize, false);\n  },\n  watch: {\n    src() {\n      this.load();\n    },\n    rotation: {\n      deep: true,\n      handler(val) {\n        if (!this.object) return;\n        this.object.rotation.set(val.x, val.y, val.z);\n      },\n    },\n    position: {\n      deep: true,\n      handler(val) {\n        if (!this.object) return;\n        this.object.position.set(val.x, val.y, val.z);\n      },\n    },\n    scale: {\n      deep: true,\n      handler(val) {\n        if (!this.object) return;\n        this.object.scale.set(val.x, val.y, val.z);\n      },\n    },\n    lights: {\n      deep: true,\n      handler() {\n        this.updateLights();\n      },\n    },\n    size: {\n      deep: true,\n      handler() {\n        this.updateCamera();\n        this.updateRenderer();\n      },\n    },\n    controlsOptions: {\n      deep: true,\n      handler() {\n        this.updateControls();\n      },\n    },\n    backgroundAlpha() {\n      this.updateRenderer();\n    },\n    backgroundColor() {\n      this.updateRenderer();\n    },\n  },\n  methods: {\n    onResize() {\n      if (this.width === undefined || this.height === undefined) {\n        this.$nextTick(() => {\n          this.size = {\n            width: this.$el.offsetWidth,\n            height: this.$el.offsetHeight,\n          };\n        });\n      }\n    },\n    onMouseDown(event) {\n      if (!this.hasListener['on-mousedown']) return;\n\n      const intersected = this.pick(event.clientX, event.clientY);\n      this.$emit('on-mousedown', intersected);\n    },\n    onMouseMove(event) {\n      if (!this.hasListener['on-mousemove']) return;\n\n      const intersected = this.pick(event.clientX, event.clientY);\n      this.$emit('on-mousemove', intersected);\n    },\n    onMouseUp(event) {\n      if (!this.hasListener['on-mouseup']) return;\n\n      const intersected = this.pick(event.clientX, event.clientY);\n      this.$emit('on-mouseup', intersected);\n    },\n    onClick(event) {\n      if (!this.hasListener['on-click']) return;\n\n      const intersected = this.pick(event.clientX, event.clientY);\n      this.$emit('on-click', intersected);\n    },\n    pick(xPos, yPos) {\n      if (!this.object) return null;\n\n      const rect = this.$el.getBoundingClientRect();\n\n      const x = xPos - rect.left;\n      const y = yPos - rect.top;\n\n      this.mouse.x = ((x / this.size.width) * 2) - 1;\n      this.mouse.y = (-(y / this.size.height) * 2) + 1;\n\n      this.raycaster.setFromCamera(this.mouse, this.camera);\n\n      const intersects = this.raycaster.intersectObject(this.object, true);\n\n      return (intersects && intersects.length) > 0 ? intersects[0] : null;\n    },\n    update() {\n      this.updateRenderer();\n      this.updateCamera();\n      this.updateLights();\n      this.updateControls();\n    },\n    updateModel() {\n      const { object } = this;\n\n      if (!object) return;\n\n      const { position } = this;\n      const { rotation } = this;\n      const { scale } = this;\n\n      object.position.set(position.x, position.y, position.z);\n      object.rotation.set(rotation.x, rotation.y, rotation.z);\n      object.scale.set(scale.x, scale.y, scale.z);\n    },\n    updateRenderer() {\n      const { renderer } = this;\n\n      renderer.setSize(this.size.width, this.size.height);\n      renderer.setPixelRatio(window.devicePixelRatio || 1);\n      renderer.setClearColor(new Color(this.backgroundColor).getHex());\n      renderer.setClearAlpha(this.backgroundAlpha);\n    },\n    updateCamera() {\n      const { camera } = this;\n      const { object } = this;\n\n      camera.aspect = this.size.width / this.size.height;\n      camera.updateProjectionMatrix();\n\n      if (!this.cameraLookAt && !this.cameraUp) {\n        if (!object) return;\n\n        const distance = getSize(object).length();\n\n        camera.position.set(this.cameraPosition.x, this.cameraPosition.y, this.cameraPosition.z);\n        camera.rotation.set(this.cameraRotation.x, this.cameraRotation.y, this.cameraRotation.z);\n\n        if (this.cameraPosition.x === 0\n            && this.cameraPosition.y === 0\n            && this.cameraPosition.z === 0) {\n          camera.position.z = distance;\n        }\n\n        camera.lookAt(new Vector3());\n      } else {\n        camera.position.set(this.cameraPosition.x, this.cameraPosition.y, this.cameraPosition.z);\n        camera.rotation.set(this.cameraRotation.x, this.cameraRotation.y, this.cameraRotation.z);\n        camera.up.set(this.cameraUp.x, this.cameraUp.y, this.cameraUp.z);\n\n        camera.lookAt(new Vector3(this.cameraLookAt.x, this.cameraLookAt.y, this.cameraLookAt.z));\n      }\n    },\n    updateLights() {\n      this.scene.remove(...this.allLights);\n\n      this.allLights = [];\n\n      this.lights.forEach((item) => {\n        if (!item.type) return;\n\n        const type = item.type.toLowerCase();\n\n        let light = null;\n\n        if (type === 'ambient' || type === 'ambientlight') {\n          const color = item.color === 0x0 ? item.color : item.color || 0x404040;\n          const intensity = item.intensity === 0 ? item.intensity : item.intensity || 1;\n\n          light = new AmbientLight(color, intensity);\n        } else if (type === 'point' || type === 'pointlight') {\n          const color = item.color === 0x0 ? item.color : item.color || 0xffffff;\n          const intensity = item.intensity === 0 ? item.intensity : item.intensity || 1;\n          const distance = item.distance || 0;\n          const decay = item.decay === 0 ? item.decay : item.decay || 1;\n\n          light = new PointLight(color, intensity, distance, decay);\n\n          if (item.position) {\n            light.position.copy(item.position);\n          }\n        } else if (type === 'directional' || type === 'directionallight') {\n          const color = item.color === 0x0 ? item.color : item.color || 0xffffff;\n          const intensity = item.intensity === 0 ? item.intensity : item.intensity || 1;\n\n          light = new DirectionalLight(color, intensity);\n\n          if (item.position) {\n            light.position.copy(item.position);\n          }\n\n          if (item.target) {\n            light.target.copy(item.target);\n          }\n        } else if (type === 'hemisphere' || type === 'hemispherelight') {\n          // eslint-disable-next-line\n          const groundColor = item.groundColor === 0x0 ? item.groundColor : item.groundColor || 0xffffff;\n          const skyColor = item.skyColor === 0x0 ? item.skyColor : item.skyColor || 0xffffff;\n          const intensity = item.intensity === 0 ? item.intensity : item.intensity || 1;\n\n          light = new HemisphereLight(skyColor, groundColor, intensity);\n\n          if (item.position) {\n            light.position.copy(item.position);\n          }\n        }\n\n        this.allLights.push(light);\n        this.scene.add(light);\n      });\n    },\n    updateControls() {\n      if (this.controlsOptions) {\n        Object.assign(this.controls, this.controlsOptions);\n      }\n    },\n    load() {\n      if (!this.src) return;\n\n      if (this.object) {\n        this.wrapper.remove(this.object);\n      }\n\n      this.loader.load(this.src, (...args) => {\n        const object = this.getObject(...args);\n\n        if (this.process) {\n          this.process(object);\n        }\n\n        this.addObject(object);\n\n        this.$emit('on-load');\n      }, (xhr) => {\n        this.$emit('on-progress', xhr);\n      }, (err) => {\n        this.$emit('on-error', err);\n      });\n    },\n    getObject(object) {\n      return object;\n    },\n    addObject(object) {\n      const center = getCenter(object);\n\n      // correction position\n      this.wrapper.position.copy(center.negate());\n\n      this.object = object;\n      this.wrapper.add(object);\n\n      this.updateCamera();\n      this.updateModel();\n    },\n    animate() {\n      this.reqId = requestAnimationFrame(this.animate);\n      this.render();\n    },\n    render() {\n      this.renderer.render(this.scene, this.camera);\n    },\n  },\n};\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/component/model3d/model-mixin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"margin\":\"0\",\"border\":\"0\",\"padding\":\"0\"}},[(_vm.suportWebGL)?_c('canvas',{ref:\"canvas\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}}):_c('div',[_vm._t(\"default\",[_vm._v(\"\\n      Your browser does not seem to support \"),_c('a',{staticStyle:{\"color\":\"#000\"},attrs:{\"href\":\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\"}},[_vm._v(\"WebGL\")]),_vm._v(\".\"),_c('br'),_vm._v(\"'\\n    \")])],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-483b9ca7\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/component/model3d/model-mixin.vue\n// module id = null\n// module chunks = ","<script>\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport mixin from './model-mixin';\n\nexport default {\n  name: 'model-gltf',\n  mixins: [mixin],\n  props: {\n    lights: {\n      type: Array,\n      default() {\n        return [\n          {\n            type: 'AmbientLight',\n            color: 0xaaaaaa,\n          },\n          {\n            type: 'DirectionalLight',\n            position: { x: 1, y: 1, z: 1 },\n            color: 0xffffff,\n            intensity: 0.8,\n          },\n        ];\n      },\n    },\n  },\n  data() {\n    const loader = new GLTFLoader();\n    loader.setCrossOrigin(this.crossOrigin);\n\n    return {\n      loader,\n    };\n  },\n  methods: {\n    load() {\n      if (!this.src) return;\n\n      if (this.object) {\n        this.wrapper.remove(this.object);\n      }\n\n      this.loader.load(this.src, (data) => {\n        this.addObject(data.scene);\n        this.$emit('on-load');\n      }, (xhr) => {\n        this.$emit('on-progress', xhr);\n      }, (err) => {\n        this.$emit('on-error', err);\n      });\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/component/model3d/model-gltf.vue","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./model-mixin.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./model-mixin.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-483b9ca7\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./model-mixin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/component/model3d/model-mixin.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./model-gltf.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./model-gltf.vue\"\n/* template */\nvar __vue_template__ = null\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/component/model3d/model-gltf.vue\n// module id = null\n// module chunks = ","<template>\n  <model-gltf src=\"static/Duck.glb\"></model-gltf>\n</template>\n\n<script>\nimport { ModelGltf } from './component/model3d';\n\nexport default {\n  components: { ModelGltf },\n  name: 'App',\n};\n</script>\n\n<style>\n* {\n    margin: 0;\n    border: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\nhtml, body {\n    width: 100%;\n    height: 100%;\n    color: #657180;\n    padding: 0px;\n}\nbody {\n    background: #eee;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('model-gltf',{attrs:{\"src\":\"static/Duck.glb\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-56d04f36\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-56d04f36\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-56d04f36\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}